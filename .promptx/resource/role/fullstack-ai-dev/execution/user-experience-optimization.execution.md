<execution>
  <constraint>
    ## 用户体验优化的客观约束
    - **响应时间硬限制**：用户操作响应时间 ≤ 200ms，AI对话响应 ≤ 2s
    - **可用性测试要求**：新用户完成核心任务成功率 ≥ 85%
    - **视觉一致性约束**：必须严格遵循项目设计系统的黑白灰配色方案
    - **无障碍访问标准**：界面必须支持基本的无障碍访问功能
    - **移动端兼容性**：虽然主要面向桌面，但基本功能需要移动端可用
  </constraint>

  <rule>
    ## UX优化强制规则
    - **奥卡姆剃刀强制**：任何功能的实现必须选择最简洁的用户操作路径
    - **认知负载控制**：单个界面的关键信息点不超过7±2个
    - **错误预防优先**：通过设计防止用户犯错优于错误发生后的处理
    - **反馈及时性**：用户的任何操作必须有即时的视觉或听觉反馈
    - **一致性维护**：相同功能在不同位置的表现必须保持一致
  </rule>

  <guideline>
    ## UX优化指导原则
    - **用户心智模型匹配**：界面设计符合用户对小说创作工具的直觉预期
    - **渐进式信息披露**：复杂功能通过分层逐步展示，避免一次性信息过载
    - **容错性设计**：允许用户犯错并提供简单的恢复机制
    - **个性化适应**：界面能根据用户使用习惯进行智能调整和推荐
  </guideline>

  <process>
    ## UX优化实施流程
    
    ### Step 1: 用户体验分析
    ```mermaid
    flowchart TD
        A[用户画像研究] --> B[使用场景分析]
        B --> C[任务流程建模]
        C --> D[痛点识别定位]
        D --> E[体验指标定义]
        E --> F[优化方案设计]
    ```
    
    **核心用户画像**：
    - AI感兴趣的作者：技术接受度高，期望智能化辅助
    - 有创作经验的写手：注重效率，对工具专业性有要求
    - 注重数据安全的用户：关心隐私保护，偏好本地化方案
    
    ### Step 2: 界面交互设计
    ```mermaid
    flowchart LR
        A[信息架构设计] --> B[交互流程设计]
        B --> C[视觉界面设计]
        C --> D[原型制作测试]
        D --> E[交互细节优化]
        E --> F[实际开发实现]
    ```
    
    **核心界面结构**：
    - 左侧交互区：320px固定，对话/项目双Tab切换
    - 右侧内容区：自适应，文件Tab + 依赖链条Tab
    - Monaco编辑器：无缝集成，支持实时编辑和自动保存
    
    ### Step 3: AI交互体验优化
    ```mermaid
    graph TD
        A[对话启动设计] --> B[AI角色差异化]
        B --> C[实时响应显示]
        C --> D[智能推荐机制]
        D --> E[错误处理优化]
        E --> F[上下文保持]
    ```
    
    **AI交互核心要素**：
    - 角色切换的视觉反馈和状态指示
    - 流式响应的打字机效果和中断机制
    - 智能角色推荐的时机和方式
    - AI处理状态的用户感知设计
    
    ### Step 4: 可用性测试与优化
    ```mermaid
    flowchart TD
        A[制定测试计划] --> B[用户测试执行]
        B --> C[数据收集分析]
        C --> D[问题识别优化]
        D --> E[方案实施验证]
        E --> F{测试结果满意?}
        F -->|否| G[迭代优化]
        F -->|是| H[优化完成]
        G --> D
    ```
    
    **关键测试场景**：
    - 新用户首次使用的引导和成功率
    - 熟练用户的操作效率和满意度
    - AI功能的理解度和使用频率
    - 错误场景的恢复能力和用户反应
    
    ### 用户体验检查清单
    - [ ] 界面加载速度和响应性能达标
    - [ ] 所有交互操作有明确的视觉反馈
    - [ ] AI角色切换逻辑清晰易理解
    - [ ] 错误提示友好且提供解决方案
    - [ ] 整体视觉风格一致且专业
    - [ ] 核心功能的可发现性良好
    - [ ] 操作流程简洁高效
    - [ ] 数据安全状态清晰可见
  </process>

  <criteria>
    ## 用户体验质量标准
    
    ### 效率性指标
    - ✅ 新用户学习核心功能时间 ≤ 10分钟
    - ✅ 熟练用户完成创作任务效率提升 ≥ 30%
    - ✅ 用户操作错误率 ≤ 5%
    - ✅ 任务完成成功率 ≥ 90%
    
    ### 满意度指标
    - ✅ 用户界面满意度评分 ≥ 4.0/5.0
    - ✅ AI功能有用性评分 ≥ 4.2/5.0
    - ✅ 整体使用体验推荐度 ≥ 85%
    - ✅ 用户留存率 ≥ 80%
    
    ### 可用性指标
    - ✅ 界面响应时间达标率 100%
    - ✅ 功能可发现性测试通过率 ≥ 90%
    - ✅ 错误恢复成功率 ≥ 95%
    - ✅ 跨浏览器兼容性 ≥ 95%
  </criteria>
</execution>